<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{base :: header}"></head>

<body>

	<div th:insert="~{base :: navbar}"></div>
	
	<div class="container-fluid p-4 body-section">
		<div class="d-flex justify-content-end">
			<span>
				<a th:href="@{'/'}"><button class="btn btn-outline-light border-0 btn-sm"><i class="fa fa-home"></i> Home</button></a>
				<a th:href="@{'/logout'}"><button class="btn btn-outline-light border-0 btn-sm"><i class="fa fa-sign-out"></i> Logout</button></a>
			</span>
		</div>
	
		<div class="container-fluid d-flex justify-content-center my-3">		
			<form action="#" th:action="@{/posts/new}" th:object="${post}" method="post" enctype="multipart/form-data" class="border-0 shadow p-3 mb-5 bg-white rounded">
				<h3 class="text-custom-color">Write a new post</h3><hr>
				<input type="hidden" th:field="*{user}" >
				<input type="hidden" th:field="*{createdAt}">
				<div class="mb-3" style="max-width:25rem">
					<input type="text" class="form-control" th:field="*{title}" id="title" placeholder="Title goes here.." required>
					<img id="displayImg" style="width:100%;height:120px" alt="" src="/posts/image/default_post_pic.jpg">
					<textarea class="form-control" rows="4" cols="40" th:field="*{body}" id="body" placeholder="Body goes here.." required></textarea>
				</div>
				<div class="mb-3" style="max-width:25rem">
					<input type="file" class="form-control" name="image" id="inputImg" required>
				</div>
				<div class="mb-3" style="max-width:25rem">
					<select class="form-select" name="catg" aria-label="Default select example">
					  <span th:each="cat:${categories}">
					  	<option th:value="${cat.categoryName}" th:text="${cat.categoryName}"></option>
					  </span>
					  	<option value="General">General</option>
					</select>
				</div>
				<div class="mb-3" style="max-width:25rem">
					<input type="text" class="form-control" name="newCatg" id="category" placeholder="Enter Category">
				</div>
				<input type="submit" style="width:100%" value="Submit Post"><br>		
			</form>	
			<br>
		</div>
	</div>
	<div th:insert="~{base :: footer}"></div>
	<script src="/js/main.js" type="text/javascript"></script>
</body>
</html>